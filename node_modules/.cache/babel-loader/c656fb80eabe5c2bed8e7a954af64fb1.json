{"ast":null,"code":"import axios from \"axios\";\nconst api = axios.create({\n  baseURL: process.env.REACT_APP_BACKEND_API,\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\n/**\n * console.log all requests and responses\n */\n\napi.interceptors.request.use(request => {\n  console.log(\"Starting Request\", request);\n  return request;\n}, function (error) {\n  console.log(\"REQUEST ERROR\", error);\n});\napi.interceptors.response.use(response => {\n  console.log(\"Response:\", response);\n  return response;\n}, function (error) {\n  error = error.response.data;\n  console.log(\"RESPONSE ERROR\", error);\n  return Promise.reject({\n    message: error.split(\"\\n\")[0]\n  });\n});\nexport default api;","map":{"version":3,"names":["axios","api","create","baseURL","process","env","REACT_APP_BACKEND_API","headers","interceptors","request","use","console","log","error","response","data","Promise","reject","message","split"],"sources":["/Users/macbookpro/Documents/Cder/reactJS/M2.3/redux-book-store-toolkit/src/apiService.js"],"sourcesContent":["import axios from \"axios\";\n\nconst api = axios.create({\n  baseURL: process.env.REACT_APP_BACKEND_API,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\n/**\n * console.log all requests and responses\n */\napi.interceptors.request.use(\n  (request) => {\n    console.log(\"Starting Request\", request);\n    return request;\n  },\n  function (error) {\n    console.log(\"REQUEST ERROR\", error);\n  }\n);\n\napi.interceptors.response.use(\n  (response) => {\n    console.log(\"Response:\", response);\n    return response;\n  },\n  function (error) {\n    error = error.response.data;\n    console.log(\"RESPONSE ERROR\", error);\n    return Promise.reject({ message: error.split(\"\\n\")[0] });\n  }\n);\n\nexport default api;\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAN,CAAa;EACvBC,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,qBADE;EAEvBC,OAAO,EAAE;IACP,gBAAgB;EADT;AAFc,CAAb,CAAZ;AAOA;AACA;AACA;;AACAN,GAAG,CAACO,YAAJ,CAAiBC,OAAjB,CAAyBC,GAAzB,CACGD,OAAD,IAAa;EACXE,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCH,OAAhC;EACA,OAAOA,OAAP;AACD,CAJH,EAKE,UAAUI,KAAV,EAAiB;EACfF,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BC,KAA7B;AACD,CAPH;AAUAZ,GAAG,CAACO,YAAJ,CAAiBM,QAAjB,CAA0BJ,GAA1B,CACGI,QAAD,IAAc;EACZH,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBE,QAAzB;EACA,OAAOA,QAAP;AACD,CAJH,EAKE,UAAUD,KAAV,EAAiB;EACfA,KAAK,GAAGA,KAAK,CAACC,QAAN,CAAeC,IAAvB;EACAJ,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BC,KAA9B;EACA,OAAOG,OAAO,CAACC,MAAR,CAAe;IAAEC,OAAO,EAAEL,KAAK,CAACM,KAAN,CAAY,IAAZ,EAAkB,CAAlB;EAAX,CAAf,CAAP;AACD,CATH;AAYA,eAAelB,GAAf"},"metadata":{},"sourceType":"module"}